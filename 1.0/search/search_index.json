{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"BaleroCMS Documentation","text":""},{"location":"#clone-the-repository","title":"Clone the repository","text":"<pre><code>git clone git@github.com:librixsoft/balerocms.git\ncd balerocms\n</code></pre>"},{"location":"#install","title":"Install","text":"<p>Set write permissions to config file:</p> <pre><code>chmod 755 ./resources/config/balero.config.json\n</code></pre>"},{"location":"#starting-the-environment","title":"Starting the environment","text":"<ul> <li>First time or after changing Dockerfile/images:</li> </ul> <pre><code>docker-compose up -d --build\n</code></pre> <ul> <li><code>-d</code> \u2192 run in background</li> <li> <p><code>--build</code> \u2192 rebuild images before starting containers</p> </li> <li> <p>Just start existing containers:</p> </li> </ul> <pre><code>docker-compose up -d\n</code></pre>"},{"location":"#quick-start","title":"Quick start","text":"<ul> <li>BaleroCMS: http://localhost:8080</li> <li>Dashboard: http://localhost:8080/login</li> </ul> <p>That's all \u2014 if you open http://localhost:8080 you will see the Balero CMS Setup Wizard!</p>"},{"location":"Development/","title":"Developers","text":""},{"location":"Development/#production-mode","title":"Production Mode","text":"<p>In <code>public/index.php</code> set the environment to production:</p> <pre><code>define('APP_ENV', 'dev'); // change to \"prod\" if you are uploading to your server\n</code></pre>"},{"location":"Development/#updateinstall-front-end-libs","title":"Update/Install Front-End Libs","text":"<p>Update library versions in <code>package.json</code> and run:</p> <pre><code>npm install\n</code></pre>"},{"location":"Development/#using-third-party-libraries-in-balerocms","title":"Using Third-Party Libraries in BaleroCMS","text":"<p>BaleroCMS is ready to use Composer for dependencies. Integrating Third-Party Libraries is very easy.</p>"},{"location":"Development/#example-integrating-an-orm-doctrine","title":"Example: Integrating an ORM (Doctrine)","text":"<p>Install Doctrine ORM:</p> <pre><code>composer require doctrine/orm\n</code></pre>"},{"location":"Development/#example-model","title":"Example Model","text":"<pre><code>&lt;?php\nnamespace App\\Models;\n\nuse Doctrine\\ORM\\Mapping as ORM;\nuse Doctrine\\ORM\\EntityManager;\n\n#[ORM\\Entity]\n#[ORM\\Table(name: \"data_items\")]\nclass DataItemModel\n{\n    #[ORM\\Id]\n    #[ORM\\GeneratedValue]\n    #[ORM\\Column(type: \"integer\")]\n    private int $id;\n\n    #[ORM\\Column(type: \"string\")]\n    private string $name;\n\n    #[ORM\\Column(type: \"string\")]\n    private string $value;\n\n    private string $hello = \"hi\";\n\n    private EntityManager $em;\n\n    public function __construct(EntityManager $em)\n    {\n        $this-&gt;em = $em;\n    }\n\n    public function getId(): int { return $this-&gt;id; }\n    public function getName(): string { return $this-&gt;name; }\n    public function setName(string $name): void { $this-&gt;name = $name; }\n    public function getValue(): string { return $this-&gt;value; }\n    public function setValue(string $value): void { $this-&gt;value = $value; }\n\n    public function getHello(): string { return $this-&gt;hello; }\n    public function setHello(string $hello): void { $this-&gt;hello = $hello; }\n\n    public function getAllItems(): array\n    {\n        return $this-&gt;em-&gt;getRepository(self::class)-&gt;findAll();\n    }\n\n    public function createItem(string $name, string $value): int\n    {\n        $item = new self($this-&gt;em);\n        $item-&gt;setName($name);\n        $item-&gt;setValue($value);\n\n        $this-&gt;em-&gt;persist($item);\n        $this-&gt;em-&gt;flush();\n\n        return $item-&gt;getId();\n    }\n}\n</code></pre>"},{"location":"Development/#example-controller","title":"Example Controller","text":"<pre><code>&lt;?php\nnamespace App\\Controllers;\n\nuse App\\Models\\DataItemModel;\nuse Framework\\Attributes\\Inject;\nuse Framework\\Attributes\\Controller;\nuse Framework\\Core\\View;\nuse Framework\\Http\\Get;\nuse Framework\\Http\\JsonResponse;\nuse Doctrine\\ORM\\EntityManager;\n\n#[Controller('/data')]\nclass DataItemController\n{\n    #[Inject]\n    private View $view;\n\n    #[Inject]\n    private DataItemModel $model;\n\n    #[Get('/list')]\n    #[JsonResponse]\n    public function listItems(): array\n    {\n        $items = $this-&gt;model-&gt;getAllItems();\n        return array_map(fn($item) =&gt; [\n            'id' =&gt; $item-&gt;getId(),\n            'name' =&gt; $item-&gt;getName(),\n            'value' =&gt; $item-&gt;getValue()\n        ], $items);\n    }\n\n    #[Get('/create')]\n    #[JsonResponse]\n    public function createItem(): array\n    {\n        $id = $this-&gt;model-&gt;createItem('Sample Item', '123');\n        return [\n            'status' =&gt; 'success',\n            'id' =&gt; $id\n        ];\n    }\n\n    #[Get('/view')]\n    public function renderView()\n    {\n        $items = $this-&gt;model-&gt;getAllItems();\n        return $this-&gt;view-&gt;render(\"data/list.html\", ['items' =&gt; $items], useTheme: false);\n    }\n}\n</code></pre>"},{"location":"Development/#installing-environment-for-local-debugging","title":"Installing Environment for Local Debugging","text":""},{"location":"Development/#1-update-homebrew","title":"1. Update Homebrew","text":"<pre><code>brew update\n</code></pre>"},{"location":"Development/#2-install-php-latest-stable-version-eg-84","title":"2. Install PHP (latest stable version, e.g., 8.4)","text":"<pre><code>brew install php\n</code></pre>"},{"location":"Development/#3-verify-php-installation","title":"3. Verify PHP installation","text":"<pre><code>php -v\n# You should see something like \"PHP 8.4.x (cli)\"\n</code></pre>"},{"location":"Development/#4-install-xdebug-if-not-included-in-php-by-default","title":"4. Install Xdebug (if not included in PHP by default)","text":"<pre><code>brew install php-xdebug\n</code></pre>"},{"location":"Development/#5-enable-xdebug-in-php","title":"5. Enable Xdebug in PHP","text":""},{"location":"Development/#check-phpini-location","title":"Check php.ini location","text":"<pre><code>php --ini\n</code></pre>"},{"location":"Development/#open-the-loaded-phpini-and-addedit","title":"Open the loaded php.ini and add/edit:","text":"<pre><code>zend_extension=\"xdebug.so\"\nxdebug.mode=debug\nxdebug.start_with_request=yes\nxdebug.client_host=127.0.0.1\nxdebug.client_port=9003\n</code></pre>"},{"location":"Development/#6-verify-xdebug-is-active","title":"6. Verify Xdebug is active","text":"<pre><code>php -i | grep xdebug\n# You should see xdebug.mode =&gt; debug\n</code></pre>"},{"location":"Development/#debugging-balero-cms-with-phpstorm-xdebug","title":"Debugging Balero CMS with PhpStorm + Xdebug","text":"<p>This document summarizes the steps to set up and debug your Balero CMS project locally using PHP built-in server and PhpStorm.</p>"},{"location":"Development/#1-prepare-php-environment","title":"1. Prepare PHP Environment","text":"<p>Check that PHP and Xdebug are installed locally (Homebrew):</p> <pre><code>php -v\nphp -i | grep xdebug\n</code></pre> <p>You should see something like:</p> <pre><code>PHP 8.4.x ...\nwith Xdebug v3.x ...\n</code></pre> <p>Note: Ensure that <code>xdebug.mode =&gt; debug</code> and <code>xdebug.start_with_request =&gt; yes</code>.</p>"},{"location":"Development/#2-start-php-built-in-server","title":"2. Start PHP Built-in Server","text":"<p>Your CMS <code>index.php</code> is in <code>public/</code>, so you must start the server pointing to that folder as the DocumentRoot.</p>"},{"location":"Development/#option-1-from-the-project-root","title":"Option 1: From the project root","text":"<pre><code>php -S localhost:8081 -t public\n</code></pre>"},{"location":"Development/#option-2-from-inside-public","title":"Option 2: From inside <code>public/</code>","text":"<pre><code>cd public\nphp -S localhost:8081\n</code></pre> <ul> <li>Now <code>http://localhost:8081/</code> points to <code>public/index.php</code></li> <li>All friendly URLs work without <code>/public</code> in the URL</li> </ul>"},{"location":"Development/#3-phpstorm-configuration","title":"3. PhpStorm Configuration","text":"<ol> <li> <p>PHP Servers:</p> <ul> <li>Host: <code>localhost</code></li> <li>Port: <code>8081</code></li> <li>Path mapping: project root \u2192 <code>/</code> (DocumentRoot)</li> </ul> </li> <li> <p>Enable Listen for PHP Debug Connections (phone icon \u260e\ufe0f)</p> </li> <li> <p>Set breakpoints in your code.</p> </li> <li> <p>Open the URL in the browser:</p> </li> </ol> <pre><code>http://localhost:8081/home\nhttp://localhost:8081/test\n</code></pre> <ul> <li>PhpStorm will stop execution at the breakpoints.</li> </ul>"},{"location":"Development/#4-additional-notes","title":"4. Additional Notes","text":"<ul> <li>To stop the built-in server: Ctrl + C in the terminal.</li> <li>When adding new routes, just open the corresponding URL; you don't need to modify the router.</li> <li>Keep <code>xdebug.log</code> configured to check connection errors if anything fails.</li> </ul> <p>Now you can debug your Balero CMS step by step with PhpStorm and Xdebug.</p>"},{"location":"Development/#running-the-application-without-docker","title":"Running the Application without Docker","text":""},{"location":"Development/#using-php-built-in-server","title":"Using PHP Built-in Server","text":"<p>The application can be run using PHP's built-in web server. Make sure to start the server from the <code>public/</code> directory: <pre><code>cd public\nphp -S localhost:8080\n</code></pre></p> <p>Then open your browser and navigate to: <pre><code>http://localhost:8080\n</code></pre></p> <p>Note: You can manually generate the route cache by executing <code>php bin/cache_routes.php</code> or execute directly using Docker for this!</p>"},{"location":"Docker/","title":"Docker","text":""},{"location":"Docker/#docker-services","title":"Docker Services","text":""},{"location":"Docker/#start","title":"Start","text":"<pre><code>docker-compose up -d\n</code></pre>"},{"location":"Docker/#stop-only-containers-keep-volumes-and-networks","title":"Stop only containers (keep volumes and networks)","text":"<pre><code>docker-compose stop\n</code></pre>"},{"location":"Docker/#stop-and-remove-containers-and-networks","title":"Stop and remove containers and networks","text":"<pre><code>docker-compose down\n</code></pre>"},{"location":"Docker/#stop-and-remove-everything-including-volumes","title":"Stop and remove everything including volumes","text":"<pre><code>docker-compose down -v\n</code></pre> <p>For MySQL in RAM (tmpfs), simply use <code>docker-compose down</code> and restart; the database is deleted when the container stops.</p>"},{"location":"Docker/#debug-container","title":"Debug Container","text":"<p>Open shell inside container:</p> <pre><code>docker exec -it lamp-app bash\n</code></pre> <p>Get log in container:</p> <pre><code>tail -F /var/log/apache2/error.log\n</code></pre>"},{"location":"Docker/#docker-hub-repository","title":"Docker Hub Repository","text":"<p>https://hub.docker.com/r/lastprophet/balerocms</p>"},{"location":"Download/","title":"Guide: Build, Pull, and Run the BaleroCMS Docker Image","text":"<p>This document summarizes the steps to build the production image of BaleroCMS, push it to Docker Hub, pull it from Docker Hub, and run it locally.</p>"},{"location":"Download/#1-build-the-image-locally-optional","title":"1. Build the image locally (optional)","text":"<pre><code># Stop and remove any previous container\ndocker rm -f balero\n\n# Build the production image locally (optional if you want to modify before pushing)\ndocker build -t lastprophet/balerocms:latest -f Dockerfile.prod .\n</code></pre>"},{"location":"Download/#2-push-the-image-to-docker-hub","title":"2. Push the image to Docker Hub","text":"<pre><code># Log in to Docker Hub (if not already logged in)\ndocker login\n\n# Push the image\ndocker push lastprophet/balerocms:latest\n</code></pre> <p>If you encounter an access error, tag explicitly:</p> <pre><code>docker tag lastprophet/balerocms:latest docker.io/lastprophet/balerocms:latest\ndocker push docker.io/lastprophet/balerocms:latest\n</code></pre>"},{"location":"Download/#3-pull-the-image-from-docker-hub-for-other-machines-or-users","title":"3. Pull the image from Docker Hub (for other machines or users)","text":"<pre><code>docker pull lastprophet/balerocms:latest\n</code></pre>"},{"location":"Download/#4-run-the-image-locally","title":"4. Run the image locally","text":"<pre><code># Stop and remove any previous container\ndocker rm -f balero\n\n# Run the image\ndocker run -d --name balero -p 8080:80 lastprophet/balerocms:latest\n</code></pre> <p>Then open your browser at:</p> <pre><code>http://localhost:8080\n</code></pre>"},{"location":"Download/#5-check-container-logs","title":"5. Check container logs","text":"<pre><code>docker logs -f balero\n</code></pre> <p>This helps identify any issues with permissions, Apache, or PHP.</p>"},{"location":"Download/#6-stop-the-container","title":"6. Stop the container","text":"<pre><code>docker stop balero\ndocker rm balero  # optional if you want to remove the container\n</code></pre> <p>This guide allows you to build, push, pull, and run the BaleroCMS production image, making it ready to share and run on any machine.</p>"},{"location":"Services/","title":"Services","text":""},{"location":"Services/#accessing-services","title":"Accessing Services","text":""},{"location":"Services/#balerocms","title":"BaleroCMS","text":"<ul> <li>URL: http://localhost:8080</li> </ul>"},{"location":"Services/#mysql","title":"MySQL","text":"<ul> <li>Host: localhost</li> <li>Port: 3307</li> <li>User: root</li> <li>Database: balero_cms</li> <li>Password: root</li> </ul>"},{"location":"Services/#phpmyadmin","title":"phpMyAdmin","text":"<ul> <li>URL: http://localhost:8081</li> <li>User: root</li> <li>Password: root</li> </ul>"},{"location":"Services/#sonarqube","title":"SonarQube","text":"<ul> <li>URL: http://localhost:9000</li> <li>User: admin</li> <li>Password: admin</li> </ul>"},{"location":"Services/#mysql-storage-modes","title":"MySQL Storage Modes","text":"<p>You can configure MySQL in two ways:</p>"},{"location":"Services/#1-in-memory-ram","title":"1. In-memory (RAM)","text":"<ul> <li>Data is lost when the container stops.</li> <li>Ideal for development and quick tests.</li> </ul>"},{"location":"Services/#2-persistent-with-volume","title":"2. Persistent with volume","text":"<ul> <li>Data is stored in a Docker volume.</li> <li>Recommended for production use.</li> </ul> <p>In <code>docker-compose.yml</code> you can switch between these two options by commenting/uncommenting the relevant section.</p>"},{"location":"Testing/","title":"Testing","text":""},{"location":"Testing/#testing","title":"Testing","text":""},{"location":"Testing/#run-unit-tests","title":"Run Unit Tests","text":"<p>Create tests in <code>Tests/Framework</code> and run:</p> <pre><code>docker compose exec phpunit composer install\n\ndocker compose exec phpunit composer test\n</code></pre>"},{"location":"Testing/#generate-code-coverage-with-docker-phpunit","title":"Generate Code Coverage with Docker + PHPUnit","text":"<pre><code>docker compose run --rm phpunit \\\n  php -d xdebug.mode=coverage ./vendor/bin/phpunit \\\n  --configuration phpunit.xml\n</code></pre> <p>It will create: build/clover.xml</p>"},{"location":"Testing/#execute-sonar-to-view-coverage","title":"Execute Sonar to View Coverage","text":"<pre><code>docker run --rm \\\n  -e SONAR_HOST_URL=\"http://host.docker.internal:9000\" \\\n  -e SONAR_TOKEN=\"GENERATED_TOKEN\" \\\n  -v $(pwd):/usr/src \\\n  sonarsource/sonar-scanner-cli\n</code></pre>"},{"location":"Tools-Reference/","title":"Tools &amp; Reference","text":""},{"location":"Tools-Reference/#sonarqube","title":"SonarQube","text":"<ul> <li>Start SonarQube:</li> </ul> <pre><code>docker-compose up -d\n</code></pre> <ul> <li>Run Sonar Scanner:</li> </ul> <pre><code>docker run --rm \\\n  -e SONAR_HOST_URL=\"http://host.docker.internal:9000\" \\\n  -e SONAR_TOKEN=\"your_generated_token_here\" \\\n  -v $(pwd):/usr/src \\\n  sonarsource/sonar-scanner-cli\n</code></pre> <ul> <li>Generate a Sonar token:</li> <li>Go to http://localhost:9000</li> <li>Login as <code>admin/admin</code></li> <li>Navigate to My Account \u2192 Security</li> <li>Generate and copy your token</li> <li>Replace it in the command above</li> </ul>"},{"location":"Tools-Reference/#repository","title":"Repository","text":"<ul> <li>GitHub: https://github.com/librixsoft/balerocms-docker</li> <li>Bitbucket mirror: https://balerocms@bitbucket.org/librixsoft/balerocms.git</li> </ul>"},{"location":"Tools-Reference/#cache-folder","title":"Cache Folder","text":"<p>The \"/cache/\" folder stores auto-generated cache files used by the application to improve routing performance.</p>"},{"location":"Tools-Reference/#notes","title":"Notes","text":"<ul> <li>Cached files are automatically generated when the application starts.</li> <li>Do not edit manually. If missing, the app will scan the <code>App/Controllers</code> directory dynamically.</li> </ul>"},{"location":"Tools-Reference/#additional-notes","title":"Additional Notes","text":"<ul> <li>phpMyAdmin: http://localhost:8081 (User: <code>root</code>, Password: <code>root</code>)</li> <li>MySQL storage modes: RAM for ephemeral testing, volume for persistent data.</li> <li>LAMP: Only Apache + PHP; MySQL is separate.</li> </ul>"}]}