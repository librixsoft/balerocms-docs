{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"BaleroCMS Documentation","text":""},{"location":"#documentation","title":"Documentation","text":""},{"location":"#quick-start","title":"Quick start","text":"<ul> <li>BaleroCMS: http://localhost:8080</li> <li>Dashboard: http://localhost:8080/login</li> </ul> <p>That's all \u2014 if you open http://localhost:8080 you will see the Balero CMS Setup Wizard!</p>"},{"location":"#install","title":"Install","text":"<p>Set write permissions to config file:</p> <pre><code>chmod 755 ./resources/config/balero.config.json\n</code></pre>"},{"location":"#starting-the-environment","title":"Starting the environment","text":"<ul> <li>First time or after changing Dockerfile/images:</li> </ul> <pre><code>docker-compose up -d --build\n</code></pre> <ul> <li><code>-d</code> \u2192 run in background</li> <li> <p><code>--build</code> \u2192 rebuild images before starting containers</p> </li> <li> <p>Just start existing containers:</p> </li> </ul> <pre><code>docker-compose up -d\n</code></pre>"},{"location":"Accessing-services/","title":"Accessing Services","text":""},{"location":"Accessing-services/#accessing-services","title":"Accessing services","text":"<ul> <li>BaleroCMS: http://localhost:8080</li> <li>MySQL:</li> <li>Host: localhost</li> <li>Port: 3307</li> <li>User: root</li> <li>Database: balero_cms</li> <li>Password: root</li> <li>phpMyAdmin: http://localhost:8081</li> <li>User: root</li> <li>Password: root</li> <li>SonarQube: http://localhost:9000</li> <li>User: admin</li> <li>Password: admin</li> </ul>"},{"location":"Cache/","title":"Cache Folder","text":"<p>The \"/cache/\" folder stores auto-generated cache files used by the application to improve routing performance.</p>"},{"location":"Cache/#notes","title":"Notes","text":"<ul> <li>Cached files are automatically generated when the application starts.</li> <li>Do not edit manually. If missing, the app will scan the <code>App/Controllers</code> directory dynamically.</li> </ul>"},{"location":"Debug-Container/","title":"Debug Container","text":""},{"location":"Debug-Container/#debug","title":"Debug","text":"<p>Open shell inside container:</p> <pre><code>docker exec -it lamp-app bash\n</code></pre> <p>Get log in container:</p> <pre><code>tail -F /var/log/apache2/error.log\n</code></pre>"},{"location":"Debug-Local/","title":"Installing environment for local debugging","text":""},{"location":"Debug-Local/#1-update-homebrew","title":"1. Update Homebrew","text":"<p>brew update</p>"},{"location":"Debug-Local/#2-install-php-latest-stable-version-eg-84","title":"2. Install PHP (latest stable version, e.g., 8.4)","text":"<p>brew install php</p>"},{"location":"Debug-Local/#3-verify-php-installation","title":"3. Verify PHP installation","text":"<p>php -v</p>"},{"location":"Debug-Local/#you-should-see-something-like-php-84x-cli","title":"You should see something like \"PHP 8.4.x (cli)\"","text":""},{"location":"Debug-Local/#4-install-xdebug-if-not-included-in-php-by-default","title":"4. Install Xdebug (if not included in PHP by default)","text":"<p>brew install php-xdebug</p>"},{"location":"Debug-Local/#5-enable-xdebug-in-php","title":"5. Enable Xdebug in PHP","text":""},{"location":"Debug-Local/#check-phpini-location","title":"Check php.ini location","text":"<p>php --ini</p>"},{"location":"Debug-Local/#open-the-loaded-phpini-and-addedit","title":"Open the loaded php.ini and add/edit:","text":"<p>zend_extension=\"xdebug.so\" xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003</p>"},{"location":"Debug-Local/#6-verify-xdebug-is-active","title":"6. Verify Xdebug is active","text":"<p>php -i | grep xdebug</p>"},{"location":"Debug-Local/#you-should-see-xdebugmode-debug","title":"You should see xdebug.mode =&gt; debug","text":""},{"location":"Debug-Local/#debugging-balero-cms-with-phpstorm-xdebug","title":"Debugging Balero CMS with PhpStorm + Xdebug","text":"<p>This document summarizes the steps to set up and debug your Balero CMS project locally using PHP built-in server and PhpStorm.</p>"},{"location":"Debug-Local/#1-prepare-php-environment","title":"1. Prepare PHP Environment","text":"<p>Check that PHP and Xdebug are installed locally (Homebrew):</p> <pre><code>php -v\nphp -i | grep xdebug\n</code></pre> <p>You should see something like:</p> <pre><code>PHP 8.4.x ...\nwith Xdebug v3.x ...\n</code></pre> <p>Note: Ensure that <code>xdebug.mode =&gt; debug</code> and <code>xdebug.start_with_request =&gt; yes</code>.</p>"},{"location":"Debug-Local/#2-start-php-built-in-server","title":"2. Start PHP Built-in Server","text":"<p>Your CMS <code>index.php</code> is in <code>public/</code>, so you must start the server pointing to that folder as the DocumentRoot.</p>"},{"location":"Debug-Local/#option-1-from-the-project-root","title":"Option 1: From the project root","text":"<pre><code>php -S localhost:8081 -t public\n</code></pre>"},{"location":"Debug-Local/#option-2-from-inside-public","title":"Option 2: From inside <code>public/</code>","text":"<pre><code>cd public\nphp -S localhost:8081\n</code></pre> <ul> <li>Now <code>http://localhost:8081/</code> points to <code>public/index.php</code></li> <li>All friendly URLs work without <code>/public</code> in the URL</li> </ul>"},{"location":"Debug-Local/#3-phpstorm-configuration","title":"3. PhpStorm Configuration","text":"<ol> <li> <p>PHP Servers:</p> <ul> <li>Host: <code>localhost</code></li> <li>Port: <code>8081</code></li> <li>Path mapping: project root \u2192 <code>/</code> (DocumentRoot)</li> </ul> </li> <li> <p>Enable Listen for PHP Debug Connections (phone icon \u260e\ufe0f)</p> </li> <li> <p>Set breakpoints in your code.</p> </li> <li> <p>Open the URL in the browser:</p> </li> </ol> <pre><code>http://localhost:8081/home\nhttp://localhost:8081/test\n</code></pre> <ul> <li>PhpStorm will stop execution at the breakpoints.</li> </ul>"},{"location":"Debug-Local/#4-friendly-urls-and-router","title":"4. Friendly URLs and Router","text":"<ul> <li>Avoid including <code>/public</code> in URLs when using PHP built-in server with <code>public</code> as the root.</li> <li>Your internal Router (<code>Framework\\\\Bootstrap\\\\Router</code>) will continue handling controller routes.</li> </ul>"},{"location":"Debug-Local/#example","title":"Example:","text":"<p><pre><code>Controller HomeController -&gt; /home\nController TestController -&gt; /test\n</code></pre> - Direct access: <pre><code>http://localhost:8081/home\nhttp://localhost:8081/test\n</code></pre></p>"},{"location":"Debug-Local/#5-additional-notes","title":"5. Additional Notes","text":"<ul> <li>To stop the built-in server: Ctrl + C in the terminal.</li> <li>When adding new routes, just open the corresponding URL; you don\u2019t need to modify the router.</li> <li>Keep <code>xdebug.log</code> configured to check connection errors if anything fails.</li> </ul> <p>Now you can debug your Balero CMS step by step with PhpStorm and Xdebug.</p>"},{"location":"Docker-Hub-Repository/","title":"Docker Hub Repository","text":""},{"location":"Docker-Hub-Repository/#docker-hub-repository","title":"Docker Hub Repository","text":"<p>https://hub.docker.com/r/lastprophet/balerocms</p>"},{"location":"MySQL-storage-modes/","title":"MySQL Storage Modes","text":""},{"location":"MySQL-storage-modes/#mysql-storage-modes","title":"MySQL storage modes","text":"<p>You can configure MySQL in two ways:</p> <ol> <li>In-memory (RAM):</li> <li>Data is lost when the container stops.</li> <li> <p>Ideal for development and quick tests.</p> </li> <li> <p>Persistent with volume:</p> </li> <li>Data is stored in a Docker volume.</li> <li>Recommended for production use.</li> </ol> <p>In <code>docker-compose.yml</code> you can switch between these two options by commenting/uncommenting the relevant section.</p>"},{"location":"Notes/","title":"Notes","text":""},{"location":"Notes/#notes","title":"Notes","text":"<ul> <li>phpMyAdmin: http://localhost:8081 (User: <code>root</code>, Password: <code>root</code>)</li> <li>MySQL storage modes: RAM for ephemeral testing, volume for persistent data.</li> <li>LAMP: Only Apache + PHP; MySQL is separate.</li> </ul>"},{"location":"Production-mode/","title":"Production Mode","text":""},{"location":"Production-mode/#production-mode","title":"Production mode","text":"<p>In <code>public/index.php</code> set the environment to production:</p> <pre><code>define('APP_ENV', 'dev'); // change to \"prod\" if you are uploading to your server\n</code></pre>"},{"location":"Repository/","title":"Repository","text":""},{"location":"Repository/#repository","title":"Repository","text":"<ul> <li>GitHub: https://github.com/librixsoft/balerocms-docker</li> <li>Bitbucket mirror: https://balerocms@bitbucket.org/librixsoft/balerocms.git</li> </ul>"},{"location":"Run-without-Docker/","title":"Run without Docker","text":""},{"location":"Run-without-Docker/#running-the-application-without-docker","title":"Running the Application without Docker","text":""},{"location":"Run-without-Docker/#using-php-built-in-server","title":"Using PHP Built-in Server","text":"<p>The application can be run using PHP's built-in web server. Make sure to start the server from the <code>public/</code> directory: <pre><code>cd public\nphp -S localhost:8080\n</code></pre></p> <p>Then open your browser and navigate to: <pre><code>http://localhost:8080\n</code></pre></p> <p>Note: You can manually generate the route cache by executing <code>php bin/cache_routes.php</code> or execute directly using Docker for this!</p>"},{"location":"SonarQube/","title":"SonarQube","text":""},{"location":"SonarQube/#sonarqube","title":"SonarQube","text":"<ul> <li>Start SonarQube:</li> </ul> <pre><code>docker-compose up -d\n</code></pre> <ul> <li>Run Sonar Scanner:</li> </ul> <pre><code>docker run --rm \\\n  -e SONAR_HOST_URL=\"http://host.docker.internal:9000\" \\\n  -e SONAR_TOKEN=\"your_generated_token_here\" \\\n  -v $(pwd):/usr/src \\\n  sonarsource/sonar-scanner-cli\n</code></pre> <ul> <li>Generate a Sonar token:</li> <li>Go to http://localhost:9000</li> <li>Login as <code>admin/admin</code></li> <li>Navigate to My Account \u2192 Security</li> <li>Generate and copy your token</li> <li>Replace it in the command above</li> </ul>"},{"location":"Stopping-Docker-Services/","title":"Stop Docker Services","text":""},{"location":"Stopping-Docker-Services/#stopping-docker-services","title":"Stopping Docker Services","text":""},{"location":"Stopping-Docker-Services/#1-stop-only-containers-keep-volumes-and-networks","title":"1\ufe0f\u20e3 Stop only containers (keep volumes and networks)","text":"<pre><code>docker-compose stop\n</code></pre>"},{"location":"Stopping-Docker-Services/#2-stop-and-remove-containers-and-networks","title":"2\ufe0f\u20e3 Stop and remove containers and networks","text":"<pre><code>docker-compose down\n</code></pre>"},{"location":"Stopping-Docker-Services/#3-stop-and-remove-everything-including-volumes","title":"3\ufe0f\u20e3 Stop and remove everything including volumes","text":"<pre><code>docker-compose down -v\n</code></pre> <p>For MySQL in RAM (tmpfs), simply use <code>docker-compose down</code> and restart; the database is deleted when the container stops.</p>"},{"location":"Testing/","title":"Testing","text":""},{"location":"Testing/#run-unit-tests","title":"Run Unit Tests","text":"<p>Create tests in <code>Tests/Framework</code> and run:</p> <pre><code>docker compose exec phpunit composer install\n\ndocker compose exec phpunit composer test\n</code></pre>"},{"location":"Testing/#generate-code-coverage-with-docker-phpunit","title":"Generate code coverage with Docker + PHPUnit","text":"<pre><code>docker compose run --rm phpunit \\\n  php -d xdebug.mode=coverage ./vendor/bin/phpunit \\\n  --configuration phpunit.xml\n</code></pre> <p>It will create: build/clover.xml</p>"},{"location":"Testing/#execute-sonar-to-view-coverage","title":"Execute sonar to view coverage","text":"<pre><code>docker run --rm \\\n  -e SONAR_HOST_URL=\"http://host.docker.internal:9000\" \\\n  -e SONAR_TOKEN=\"GENERATED_TOKEN\" \\\n  -v $(pwd):/usr/src \\\n  sonarsource/sonar-scanner-cli\n</code></pre>"},{"location":"Update-Install-Front-End-Libs/","title":"Update Front-End Libs","text":""},{"location":"Update-Install-Front-End-Libs/#updateinstall-front-end-libs","title":"Update/Install Front-End Libs","text":"<p>Update library versions in <code>package.json</code> and run:</p> <pre><code>npm install\n</code></pre>"},{"location":"Using-Third-Party-Libraries/","title":"Third-Party Libraries","text":""},{"location":"Using-Third-Party-Libraries/#using-third-party-libraries-in-balerocms","title":"Using Third-Party Libraries in BaleroCMS","text":"<p>BaleroCMS is ready to use Composer for dependencies. Integrating Third-Party Libraries is very easy.</p>"},{"location":"Using-Third-Party-Libraries/#example-integrating-an-orm-doctrine","title":"Example: Integrating an ORM (Doctrine)","text":"<p>Install Doctrine ORM:</p> <pre><code>composer require doctrine/orm\n</code></pre>"},{"location":"Using-Third-Party-Libraries/#example-model","title":"Example Model","text":"<pre><code>&lt;?php\nnamespace App\\Models;\n\nuse Doctrine\\ORM\\Mapping as ORM;\nuse Doctrine\\ORM\\EntityManager;\n\n#[ORM\\Entity]\n#[ORM\\Table(name: \"data_items\")]\nclass DataItemModel\n{\n    #[ORM\\Id]\n    #[ORM\\GeneratedValue]\n    #[ORM\\Column(type: \"integer\")]\n    private int $id;\n\n    #[ORM\\Column(type: \"string\")]\n    private string $name;\n\n    #[ORM\\Column(type: \"string\")]\n    private string $value;\n\n    private string $hello = \"hi\";\n\n    private EntityManager $em;\n\n    public function __construct(EntityManager $em)\n    {\n        $this-&gt;em = $em;\n    }\n\n    public function getId(): int { return $this-&gt;id; }\n    public function getName(): string { return $this-&gt;name; }\n    public function setName(string $name): void { $this-&gt;name = $name; }\n    public function getValue(): string { return $this-&gt;value; }\n    public function setValue(string $value): void { $this-&gt;value = $value; }\n\n    public function getHello(): string { return $this-&gt;hello; }\n    public function setHello(string $hello): void { $this-&gt;hello = $hello; }\n\n    public function getAllItems(): array\n    {\n        return $this-&gt;em-&gt;getRepository(self::class)-&gt;findAll();\n    }\n\n    public function createItem(string $name, string $value): int\n    {\n        $item = new self($this-&gt;em);\n        $item-&gt;setName($name);\n        $item-&gt;setValue($value);\n\n        $this-&gt;em-&gt;persist($item);\n        $this-&gt;em-&gt;flush();\n\n        return $item-&gt;getId();\n    }\n}\n</code></pre>"},{"location":"Using-Third-Party-Libraries/#example-controller","title":"Example Controller","text":"<pre><code>&lt;?php\nnamespace App\\Controllers;\n\nuse App\\Models\\DataItemModel;\nuse Framework\\Attributes\\Inject;\nuse Framework\\Attributes\\Controller;\nuse Framework\\Core\\View;\nuse Framework\\Http\\Get;\nuse Framework\\Http\\JsonResponse;\nuse Doctrine\\ORM\\EntityManager;\n\n#[Controller('/data')]\nclass DataItemController\n{\n    #[Inject]\n    private View $view;\n\n    #[Inject]\n    private DataItemModel $model;\n\n    #[Get('/list')]\n    #[JsonResponse]\n    public function listItems(): array\n    {\n        $items = $this-&gt;model-&gt;getAllItems();\n        return array_map(fn($item) =&gt; [\n            'id' =&gt; $item-&gt;getId(),\n            'name' =&gt; $item-&gt;getName(),\n            'value' =&gt; $item-&gt;getValue()\n        ], $items);\n    }\n\n    #[Get('/create')]\n    #[JsonResponse]\n    public function createItem(): array\n    {\n        $id = $this-&gt;model-&gt;createItem('Sample Item', '123');\n        return [\n            'status' =&gt; 'success',\n            'id' =&gt; $id\n        ];\n    }\n\n    #[Get('/view')]\n    public function renderView()\n    {\n        $items = $this-&gt;model-&gt;getAllItems();\n        return $this-&gt;view-&gt;render(\"data/list.html\", ['items' =&gt; $items], useTheme: false);\n    }\n}\n</code></pre>"}]}